<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissors</title>
</head>
<body>
    <div id="container"></div>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>
    <script>

        let playerInput;
        let playerScore = 0;
        let compInput;
        let compScore = 0;
        const choices = ["rock", "paper", "scissors"];
        
        
        // check for when a rps button is clicked
        const buttons = document.querySelectorAll('button');

        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                computerPlay();
                compare(button.id, compInput);
            });
        });

        const container = document.querySelector('#container');

        // display results
        const results = document.createElement('div');
        const score = document.createElement('p');
        const winner = document.createElement('p');
        const choice = document.createElement('p');


        choice.style.margin = '0';
        score.style.margin = '0';
        winner.style.margin = '0';

        container.appendChild(results);
        results.appendChild(score);
        results.appendChild(choice);
        results.appendChild(winner);


        score.textContent = 'You: ' + playerScore + ' vs ' + 'Computer: ' + compScore;

        // restart game when button pushed 
        const playAgain = document.createElement('button');

        // take user input to play rps
        function playerPlay() {
            let pass = false;
            playerInput = prompt("Rock, paper, or scissors?");

            let inputCheck = playerInput.toLowerCase();


            while(pass === false) {
                if (inputCheck === "rock" || inputCheck === "paper" || inputCheck === "scissors") {
                    playerInput = inputCheck;
                    pass = true;
                }
                else {
                    playerInput = prompt("Unexpected input, please type specifically: rock, paper, or scissors.");
                    inputCheck = playerInput.toLowerCase();
                    pass = false;
                }
            }
        }

        // randomly generate computer choice for rps
        function computerPlay() {
            compInput = choices[Math.floor(Math.random() * 3)];
        }

        // decide who is the winner of each game and keep score
        function compare(player, comp) {
            console.log(player+comp);
            switch (player + comp) {
                

                case "rockrock":
                    console.log("It's a tie.");
                    choice.textContent = 'You chose: rock ----- Computer chose: rock'
                    winner.textContent = "It's a tie.";
                    break;
                
                case "rockpaper":
                    console.log("You lose.");
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "rockscissors":
                    console.log("You win.");
                    winner.textContent = "You win.";
                    playerScore++;
                    break;
                
                case "paperpaper":
                    console.log("It's a tie.");
                    winner.textContent = "It's a tie.";
                    break;
                
                case "paperscissors":
                    console.log("You lose.");
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "paperrock":
                    console.log("You win.");
                    winner.textContent = "You win.";
                    playerScore++;
                    break;

                case "scissorsscissors":
                    console.log("It's a tie.");
                    winner.textContent = "It's a tie.";
                    break;
                
                case "scissorsrock":
                    console.log("You lose.");
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "scissorspaper":
                    console.log("You win.");
                    winner.textContent = "You win.";
                    playerScore++;
                    break;
            }
            score.textContent = 'You: ' + playerScore + ' vs ' + 'Computer: ' + compScore;
         
            if (playerScore >= 5 || compScore >= 5){
                if (playerScore > compScore) {
                    winner.textContent = 'You win the game!';
                }
                else {
            
                    winner.textContent = 'You lost the game!';
                }
                
                playAgain.textContent = 'Play again?';
                container.appendChild(playAgain);

                playAgain.addEventListener('click', () => {
                    restartGame();  
                });

            }
        }

        function restartGame() {
            playerScore = 0;
            compScore = 0;
            winner.textContent = "";
            score.textContent = 'You: ' + playerScore + ' vs ' + 'Computer: ' + compScore;
            container.removeChild(playAgain);
        }
    


    </script>
    
</body>
</html>