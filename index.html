<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>rock paper scissors</title>
</head>
<body>
    <div class="title">ROCK PAPER SCISSORS</div>
    <div id="container">
        <div id="scoreboard"></div>
    </div>
    <input id="rock" type="image" name="rock" src="images/rock.gif">
    <input id="paper" type="image" name="paper" src="images/paper.jpeg">   
    <input id="scissors" type="image" name="scissors" src="images/scissors.jpeg">      
    <script>

        let playerInput;
        let playerScore = 0;
        let compInput;
        let compScore = 0;
        const choices = ["rock", "paper", "scissors"];
        
        
        // check for when a rps button is clicked
        const buttons = document.querySelectorAll('input');

        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                computerPlay();
                compare(button.id, compInput);
            });
        });

        const container = document.querySelector('#container');
        const scoreboard = document.querySelector('#scoreboard');

        // display results
        const results = document.createElement('div');
        const youSide = document.createElement('div');
        const compSide = document.createElement('div');
        const scoreYou = document.createElement('p');
        const you = document.createElement('p');
        const computer = document.createElement('p');
        const scoreComp = document.createElement('p');
        const winner = document.createElement('p');
        const choice = document.createElement('p');


        choice.style.margin = '0';
        scoreYou.style.margin = '0';
        scoreYou.style.color = 'white';
        scoreYou.style.fontSize = '30px'
        you.style.margin = '0';
        you.style.color = 'white';
        you.style.fontSize = '50px';
        you.style.fontWeight = 'bolder';
        scoreComp.style.margin = '0';
        scoreComp.style.color = 'white';
        scoreComp.style.fontSize = '30px';
        computer.style.margin = '0';
        computer.style.color = 'white';
        computer.style.fontSize = '50px';
        computer.style.fontWeight = 'bolder';
        winner.style.margin = '0';

        container.appendChild(results);
        scoreboard.appendChild(youSide);
        scoreboard.appendChild(compSide);
        youSide.appendChild(you);
        youSide.appendChild(scoreYou);
        compSide.appendChild(computer);
        compSide.appendChild(scoreComp);
        results.appendChild(choice);
        results.appendChild(winner);

        you.textContent = 'You';    
        computer.textContent = 'Computer';
        scoreYou.textContent = playerScore;
        scoreComp.textContent = compScore;


        // restart game when button pushed 
        const playAgain = document.createElement('button');

        // take user input to play rps
        function playerPlay() {
            let pass = false;
            playerInput = prompt("Rock, paper, or scissors?");

            let inputCheck = playerInput.toLowerCase();


            while(pass === false) {
                if (inputCheck === "rock" || inputCheck === "paper" || inputCheck === "scissors") {
                    playerInput = inputCheck;
                    pass = true;
                }
                else {
                    playerInput = prompt("Unexpected input, please type specifically: rock, paper, or scissors.");
                    inputCheck = playerInput.toLowerCase();
                    pass = false;
                }
            }
        }

        // randomly generate computer choice for rps
        function computerPlay() {
            compInput = choices[Math.floor(Math.random() * 3)];
        }

        // decide who is the winner of each game and keep score
        function compare(player, comp) {
            console.log(player+comp);
            switch (player + comp) {
                

                case "rockrock":
                    console.log("It's a tie.");
                    choice.textContent = 'You chose: rock ----- Computer chose: rock';
                    winner.textContent = "It's a tie.";
                    break;
                
                case "rockpaper":
                    console.log("You lose.");
                    choice.textContent = 'You chose: rock ----- Computer chose: paper';
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "rockscissors":
                    console.log("You win.");
                    choice.textContent = 'You chose: rock ----- Computer chose: scissors';
                    winner.textContent = "You win.";
                    playerScore++;
                    break;
                
                case "paperpaper":
                    console.log("It's a tie.");
                    choice.textContent = 'You chose: paper ----- Computer chose: paper';
                    winner.textContent = "It's a tie.";
                    break;
                
                case "paperscissors":
                    console.log("You lose.");
                    choice.textContent = 'You chose: paper ----- Computer chose: scissors';
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "paperrock":
                    console.log("You win.");
                    choice.textContent = 'You chose: paper ----- Computer chose: rock';
                    winner.textContent = "You win.";
                    playerScore++;
                    break;

                case "scissorsscissors":
                    console.log("It's a tie.");
                    choice.textContent = 'You chose: scissors ----- Computer chose: scissors';
                    winner.textContent = "It's a tie.";
                    break;
                
                case "scissorsrock":
                    console.log("You lose.");
                    choice.textContent = 'You chose: scissors ----- Computer chose: rock';
                    winner.textContent = "You lose.";
                    compScore++;
                    break;
                
                case "scissorspaper":
                    console.log("You win.");
                    choice.textContent = 'You chose: scissors ----- Computer chose: paper';
                    winner.textContent = "You win.";
                    playerScore++;
                    break;
            }
            scoreYou.textContent = playerScore;
            scoreComp.textContent = compScore;
         
            if (playerScore >= 5 || compScore >= 5){
                if (playerScore > compScore) {
                    winner.textContent = 'You win the game!';
                }
                else {
            
                    winner.textContent = 'You lost the game!';
                }
                
                playAgain.textContent = 'Play again?';
                container.appendChild(playAgain);

                playAgain.addEventListener('click', () => {
                    restartGame();  
                });

            }
        }

        function restartGame() {
            playerScore = 0;
            compScore = 0;
            winner.textContent = "";
            choice.textContent = "";
            scoreYou.textContent = playerScore;
            scoreComp.textContent = compScore;
            container.removeChild(playAgain);
        }
    


    </script>
    
</body>
</html>